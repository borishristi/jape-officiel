{% extends 'base.html' %}
{% load static %}

{% block content %}

<!--START featured post-->

<section class="mt-5 mb-5">
    <div class="container">
        <div class="row g-4">
            <div class="col-lg-6">
                <div class="img-justify position-relative">
                    <a href="{% url 'post_view' slug=post.slug %}">
                        <img style="filter: brightness(70%);" class="img-fluid img-img img-hover"
                             src="{{ post.image.url }}" alt="">
                    </a>
                    <div class="position-absolute start-0 bottom-0 mb-4 ms-5 me-5">
                        <a href="{% url 'post_view' slug=post.slug %}"
                           class="h2 title-link text-white title-link-white">{{ post.title|lower|capfirst }}.</a>
                        <p class="text-white mt-3">{{ post.content|safe|striptags|truncatewords:20 }}.</p>
                        <div class="position-relative montserrat-card-text mt-3">
                            <div class="row">
                                <div class="col-1">
                                    <img width="47px" class="rounded-circle darkened-img"
                                         src="{% static 'img/profil_app.jpg' %}"
                                         alt="image profil">
                                </div>
                                <div class="col-8 text-white h6 mt-3 ms-3">
                                    <a href="#" class="title-link-white"> {{ post.author_or_default }}</a>
                                    <i class="fa-solid fa-clock fa-xs ms-3 me-2" style="color: #0D6EFD"></i>
                                    {{ post.created_on }}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="row g-4">
                    <div class="col-12">
                        <div class="img-justify-second position-relative">
                            <a href="{% url 'post_view' slug=post_1.slug %}">
                                <img style="height: 100%; filter: brightness(70%);" class="img-fluid img-img img-hover"
                                     src="{{ post_1.image.url }}" alt="">
                            </a>
                            <div class="position-absolute start-0 bottom-0 mb-4 ms-5 me-5">
                                <!--                                <span style="font-size: small; margin-top: -30px"-->
                                <!--                                      class="position-absolute bg-info ps-2 pe-2 rounded-3 text-white">-->
                                <!--                                    <i class="fa-solid fa-circle p-1 fa-xs" style="color: #ffffff;"></i>-->
                                <!--                                    Chess-->
                                <!--                                </span>-->
                                <a href="{% url 'post_view' slug=post_1.slug %}"
                                   class="h5 title-link text-white title-link-white">{{post_1.title|lower|capfirst}}.</a>
                                <div class="position-relative montserrat-card-text mt-3">
                                    <span class="text-white h6 ms-3">
                                        <a href="#" class="title-link-white">{{ post_1.author_or_default }}</a></span>
                                    <span class="text-white" style="display: inline-block">
                                        <i class="fa-solid fa-clock fa-xs ms-3" style="color: #0D6EFD"></i>
                                        {{ post_1.created_on }}
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-lg-6">
                        <div class="img-justify-second position-relative">
                            <a href="{% url 'post_view' slug=post_2.slug %}">
                                <img style="filter: brightness(70%);" class="img-fluid img-img img-hover"
                                     src="{{ post_2.image.url }}" alt="">
                            </a>
                            <div class="position-absolute start-0 bottom-0 mb-4 ms-5 me-5">
                                <a href="{% url 'post_view' slug=post_2.slug %}"
                                   class="h6 title-link text-white title-link-white">{{ post_2.title|lower|capfirst }}.</a>
                                <div class="position-relative montserrat-card-text mt-3">
                                    <span class="text-white h6 ms-3">
                                        <a href="#" class="title-link-white">{{ post_2.author_or_default }}</a>
                                    </span>
                                    <span class="text-white" style="display: inline-block">
                                        <i class="fa-solid fa-clock fa-xs ms-3" style="color: #0D6EFD"></i>
                                        {{ post_2.created_on }}
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-lg-6">
                        <div class="img-justify-second position-relative">
                            <a href="{% url 'post_view' slug=post_3.slug %}">
                                <img style="filter: brightness(70%);" class="img-fluid img-img img-hover"
                                     src="{{ post_3.image.url }}" alt="">
                            </a>
                            <div class="position-absolute start-0 bottom-0 mb-4 ms-5 me-5">
                                <!--                                <span style="font-size: medium; margin-top: -35px"-->
                                <!--                                      class="position-absolute bg-success ps-2 pe-2 rounded-3 text-white">-->
                                <!--                                    <i class="fa-solid fa-circle p-1 fa-xs" style="color: #ffffff;"></i>-->
                                <!--                                    Work-->
                                <!--                                </span>-->
                                <a href="{% url 'post_view' slug=post_3.slug %}"
                                   class="h6 title-link text-white title-link-white">{{ post_3.title|lower|capfirst }}.
                                </a>
                                <div class="position-relative montserrat-card-text mt-3">
                                    <span class="text-white h6 ms-3">
                                        <a href="#" class="title-link-white"> {{ post_3.author_or_default }} </a>
                                    </span>
                                    <span class="text-white" style="display: inline-block">
                                        <i class="fa-solid fa-clock fa-xs ms-3" style="color: #0D6EFD"></i>
                                        {{ post_3.created_on }}
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!--END featured post-->

<!--START ARTICLES SECTION-->

<section class="mt-3" style="min-height: 1550px">
    <div class="container roboto-light">
        <div class="row">
            <div class="col-lg-9">
                <div class="row">
                    <div class="col-12">
                        <span class="d-block h1"><i class="fa-regular fa-hourglass-half fa-xs"></i>Les articles du blog</span>
                        <p class="mb-2 mt-0">Dernières nouvelles, photos, vidéos et rapports spéciaux</p>
                    </div>
                    {% for post in posts %}
                    <div class="col-sm-6 py-2 pe-2 ps-2">
                        <div class="shadow card border-0 p-0" style="width: 100%; min-height: 450px">
                            <a href="{% url 'post_view' slug=post.slug %}">
                                <img src="{{ post.image.url }}" style="height: 250px;"
                                     class="img-hover rounded img-fluid card-img-top position-relative" alt="...">
                            </a>
                            <div class="card-body">
                                <a href="{% url 'post_view' slug=post.slug %}" class="title-link montserrat-title_card">
                                    <h5 class="card-title montserrat-title_card title-link h3">
                                        {{ post.title|lower|capfirst }}</h5></a>
                                <p class="card-text montserrat-card-text mt-3">{{ post.content|safe|truncatewords:20 }}.
                                </p>
                                <div class="mt-3">
                                    <div class="row">
                                        <div class="col-1">
                                            <img width="47px" class="rounded-circle"
                                                 src="{% static 'img/profil_app.jpg' %}"
                                                 alt="image profil">
                                        </div>
                                        <div class="col-8 my-3 ms-3">
                                            <span class="h6 ms-3"><a href="#" class="title-link">{{ post.author_or_default }}</a></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}

                    <div class="col-12 d-grid gap-2 mt-3 mb-3 justify-content-center">
                        <a class="btn btn-light btn-outline-primary" href="{% url 'posts_view' %}">Load more post <i
                                class="fa-solid fa-arrow-down" style="color: #0D6EFD"></i></a>
                    </div>
                </div>
            </div>
            <div class="shadow rounded col-lg-3" style="max-height: 1350px">
                <div>
                    <div class="row">
                        <div class="col-4 p-1">
                            <div class="rounded" style="background-color: #5270A4">
                                <a href="#" class="rounded text-center text-white-force p-3 d-block"
                                   style=" text-decoration: none;">
                                    <i class="fab fa-facebook-square fs-5 mb-2" style="color: #ffffff;"></i>
                                    <h6 class="m-0 text-white">1.5K</h6>
                                    <span class="small text-white">Fans</span>
                                </a>
                            </div>
                        </div>
                        <div class="col-4 p-1">
                            <div class="rounded" style="background-color: #B53C9F">
                                <a href="#" class="rounded text-center text-white-force p-3 d-block"
                                   style=" text-decoration: none;">
                                    <i class="fab fa-instagram-square fs-5 mb-2" style="color: #ffffff;"></i>
                                    <h6 class="m-0 text-white">900K</h6>
                                    <span class="small text-white">Fans</span>
                                </a>
                            </div>
                        </div>
                        <div class="col-4 p-1">
                            <div class="rounded" style="background-color: #BC423F">
                                <a href="#" class="rounded text-center text-white-force p-3 d-block"
                                   style=" text-decoration: none;">
                                    <i class="fab fa-youtube-square fs-5 mb-2" style="color: #ffffff;"></i>
                                    <h6 class="m-0 text-white">4.5K</h6>
                                    <span class="small text-white">Fans</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <h1 class="mt-4 mb-3 pb-2 montserrat-title_card text-center"><a href="#" class="title-link h3">Catégories</a>
                </h1>

                <div>
                    <div class="row">
                        {% for category in categories %}
                        <div class="col-sm-6 col-md-4 col-lg-12 my-1">
                            <a class="title-link" href="{% url 'category' category=category.cat_slug %}">
                                <div class="img-hover p-1 rounded"
                                     style="background-size: cover; height: 40px; background-color: {{ category.color }} ">
                                    <h1 style="font-size: small" class="rounded-3 text-dark text-center my-2">
                                        <i class="fa-solid fa-circle p-1 fa-xs" style="color: #000000;"></i>
                                        {{ category.title|upper }}
                                    </h1>
                                </div>
                            </a>
                        </div>
                        {% endfor %}
                        <a class="text-center text-dark mt-3" href="#">View all categories</a>
                    </div>

                    <div class="col-12 mt-5 mb-2 montserrat-card-text">
                        <div class="row g-2" style="min-height: auto">
                            <div class="col-6 col-sm-12 col-lg-12">
                                <div class="row g-2">
                                    <div><h4 class="montserrat-title_card h2">Recent post</h4></div>
                                    {% for r_post in r_posts %}
                                    <div class="col-12">
                                        <div class="row">
                                            <div class="col-4 img-fluid">
                                                <img class="img-fluid rounded" src="{{ r_post.image.url }}"
                                                     alt="">
                                            </div>
                                            <div class="col-8">
                                                <div class="col-8">
                                                    <a class="title-link h6"
                                                       href="{% url 'post_view' slug=r_post.slug %}">
                                                        {{ r_post.title|truncatewords:7|upper }}</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                            <div class="col-6 col-sm-12 col-lg-12 p-0">
                                <div class="ps-1 pt-2">
                                    <img class="img-hover img-fluid w-100"
                                         src="{% static 'img/advertising.jpg' %}" alt="Avertising"
                                         style="max-height: 350px; border-radius: 5%">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}